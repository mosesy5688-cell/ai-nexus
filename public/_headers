# === Production Phase: Standard Caching ===
# Cache HTML for 1 hour, assets immutable

# V21.9: Defensive Cache-Busting & Security Enclave
# must-revalidate ensures that "Update Lag" is eliminated by forcing a freshness check.
/*
  Cache-Control: public, max-age=0, must-revalidate
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: geolocation=(), microphone=(), camera=(), payment=()
  Strict-Transport-Security: max-age=31536000; includeSubDomains; preload
  # V19.2: Enable SharedArrayBuffer for high-performance WASM VFS
  Cross-Origin-Embedder-Policy: require-corp
  Cross-Origin-Opener-Policy: same-origin

# Model detail pages - no cache to ensure fresh dynamic content
/model/*
  Cache-Control: no-cache, no-store, must-revalidate

# Keep static assets immutable for maximum performance
/assets/*
  Cache-Control: public, max-age=31536000, immutable
/_astro/*
  Cache-Control: public, max-age=31536000, immutable
