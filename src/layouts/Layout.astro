---
// src/layouts/Layout.astro
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
interface Props {
	title: string;
	description?: string;
}

const { title, description = 'A premier, free directory of open-source AI models, tools, and resources, curated for developers, researchers, and enthusiasts.' } = Astro.props;
---

<!doctype html>
<html lang="en" class="dark">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58C2CQ8G');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" type="image/svg+xml" href="/favicon.ico">
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content={Astro.url.href}>
    <meta property="og:title" content={title}>
    <meta property="og:description" content={description}>
    <meta property="og:image" content={new URL('/og-image.jpg', Astro.site)}>

    <!-- Twitter Card Meta Tags -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content={Astro.url.href}>
    <meta property="twitter:title" content={title}>
    <meta property="twitter:description" content={description}>
    <meta property="twitter:image" content={new URL('/og-image.jpg', Astro.site)}>

    <meta name="description" content={description}>
    <title>{title}</title>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">

    <link rel="canonical" href={Astro.url.href} />

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2292826803755214"
     crossorigin="anonymous"></script>
    
    <style is:global>
        /* README Content Overflow Fix & Enhancement */
        .readme-content {
            overflow-wrap: break-word;
            word-wrap: break-word;
            word-break: break-word;
            line-height: 1.7; /* Improve readability */
            color: #374151; /* Slightly softer black for text */
        }
        .dark .readme-content {
            color: #d1d5db; /* Lighter gray for dark mode text */
        }

        /* --- Typography & Spacing --- */
        .readme-content h1, .readme-content h2, .readme-content h3, .readme-content h4, .readme-content h5 {
            font-weight: 700;
            margin-top: 2em;
            margin-bottom: 1em;
            line-height: 1.3;
        }
        .readme-content h1 { font-size: 2.25em; border-bottom: 1px solid #e2e8f0; padding-bottom: 0.3em; }
        .readme-content h2 { font-size: 1.75em; border-bottom: 1px solid #e2e8f0; padding-bottom: 0.3em; }
        .readme-content h3 { font-size: 1.5em; }
        .readme-content h4 { font-size: 1.25em; }
        .dark .readme-content h1, .dark .readme-content h2 { border-color: #374151; }

        .readme-content p, .readme-content ul, .readme-content ol, .readme-content blockquote, .readme-content pre {
            margin-bottom: 1rem;
        }

        .readme-content ul, .readme-content ol {
            padding-left: 2rem;
        }
        .readme-content ul { list-style-type: disc; }
        .readme-content ol { list-style-type: decimal; }
        .readme-content li { margin-bottom: 0.5rem; }
        .readme-content li > p { margin-bottom: 0.5rem; }

        .readme-content a {
            color: #2563eb;
            text-decoration: underline;
            text-decoration-thickness: 1px;
            text-underline-offset: 2px;
        }
        .dark .readme-content a { color: #60a5fa; }
        .readme-content a:hover { text-decoration: none; }

        .readme-content hr {
            border-top: 1px solid #e2e8f0;
            margin: 2rem 0;
        }
        .dark .readme-content hr { border-color: #374151; }

        /* --- Code, Tables, Images --- */
        .readme-content pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            background-color: #f6f8fa; /* Light background for code blocks */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto; /* Add horizontal scroll for very long lines */
        }
        .dark .readme-content pre {
            background-color: #1e293b; /* Dark mode background */
        }
        .readme-content code {
            background-color: rgba(209, 213, 219, 0.4);
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            border-radius: 6px;
        }
        .dark .readme-content code { background-color: rgba(55, 65, 81, 0.7); }
        .readme-content pre > code { all: unset; } /* Reset inline code style inside pre blocks */
        .readme-content table {
            display: block; /* Force table to behave like a block element */
            overflow-x: auto; /* Allow tables to scroll horizontally */
            max-width: 100%;
        }
        .readme-content img {
            max-width: 100%;
            height: auto;
            border-radius: 0.5rem; /* Add a slight rounding to image corners */
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        /* Ensure images inside paragraphs are also responsive */
        .readme-content p > img {
            display: inline-block; /* Allow centering via text-align on parent if needed */
        }
        /* Center images that are the only element in a paragraph */
        .readme-content p:has(> img:only-child) {
            display: flex;
            justify-content: center;
        }
        .readme-content blockquote {
            border-left: 4px solid #d1d5db;
            padding-left: 1rem;
            color: #6b7280;
        }
        .readme-content th, .readme-content td {
            border: 1px solid #e2e8f0;
            padding: 0.5rem 1rem;
        }
        .dark .readme-content th, .dark .readme-content td {
            border-color: #374151;
        }
        .dark .readme-content blockquote { border-color: #4b5563; color: #9ca3af; }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans antialiased flex flex-col min-h-screen">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-58C2CQ8G"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <Header />
    <main class="flex-grow">
        <slot />
    </main>
    <Footer />
</body>
</html>
