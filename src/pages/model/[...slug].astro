---
export const prerender = false;

import Layout from '../../layouts/Layout.astro';
import ModelCarousel from '../../components/ModelCarousel.astro';
import { getModelBySlug } from '../../utils/db';
import { prepareDetailData, getBestDescription, formatMetric, formatRelativeTime } from '../../utils/frontend-data';

const { slug } = Astro.params;

let model = null;
let rawModel = null;
let relatedModels = [];
let error = null;
let pageTitle = "AI Model Details - Free AI Tools";
let pageDescription = "Explore comprehensive information about this AI model.";

// Fetch model data
try {
  if (!slug) throw new Error("No slug provided");

  rawModel = await getModelBySlug(slug, Astro.locals);
  
  if (rawModel) {
    model = prepareDetailData(rawModel);
    
    // Fetch related models
    const db = Astro.locals?.runtime?.env?.DB;
    if (db && model.pipeline_tag) {
      try {
        const stmt = db.prepare(`
          SELECT id, name, author, likes, downloads, cover_image_url, description, pipeline_tag
          FROM models
          WHERE pipeline_tag = ? AND id != ?
          ORDER BY downloads DESC
          LIMIT 6
        `);
        const { results } = await stmt.bind(model.pipeline_tag, model.id).all();
        relatedModels = results || [];
      } catch (e) {
        console.warn("Related models fetch failed:", e);
      }
    }
    
    // Set SEO metadata
    pageTitle = `${model.displayName} by ${model.author} — Free AI Tools`;
    pageDescription = getBestDescription(model).substring(0, 160);
  }
} catch (e) {
  console.error("Model fetch error:", e);
  error = e.message;
}

if (!model || model._isPlaceholder) {
  Astro.response.status = 404;
  error = "Model not found or data unavailable.";
}

// Prepare tags array
const tagsArray = Array.isArray(model?.tags) ? model.tags : [];

// Prepare resource links
let resourceLinks = [];
try {
  if (model?.source_url) {
    resourceLinks.push({ label: 'Source Code', url: model.source_url, icon: 'github' });
  }
  if (model?.links_data) {
    if (model.links_data.docs_url) {
      resourceLinks.push({ label: 'Documentation', url: model.links_data.docs_url, icon: 'docs' });
    }
    if (model.links_data.demo_url) {
      resourceLinks.push({ label: 'Live Demo', url: model.links_data.demo_url, icon: 'demo' });
    }
  }
} catch (e) {
  console.warn("Resource links parse error:", e);
}

// Parse resources (files)
let parsedResources = [];
try {
  if (model?.resources && model.resources !== '[]') {
    const parsed = typeof model.resources === 'string' ? JSON.parse(model.resources) : model.resources;
    if (Array.isArray(parsed)) parsedResources = parsed;
  }
} catch (e) {
  console.warn("Resources parse error:", e);
}
---

<Layout title={pageTitle} description={pageDescription}>
  <main class="min-h-screen bg-gray-50 dark:bg-gray-900">
    {error ? (
      <div class="container mx-auto px-4 py-16">
        <div class="max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 text-center">
          <div class="w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
            </svg>
          </div>
          <h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">Model Not Found</h1>
          <p class="text-gray-600 dark:text-gray-400 mb-6">{error}</p>
          <a href="/" class="inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
            Back to Homepage
          </a>
        </div>
      </div>
    ) : (
      <article class="pb-16" itemscope itemtype="https://schema.org/SoftwareApplication">
        
        {/* Hero Section */}
        <div class="bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 border-b border-gray-200 dark:border-gray-700">
          <div class="container mx-auto px-4 py-12">
            <div class="max-w-6xl mx-auto">
              
              {/* Breadcrumb */}
              <nav class="mb-6">
                <ol class="flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400">
                  <li><a href="/" class="hover:text-blue-600 dark:hover:text-blue-400">Home</a></li>
                  <li><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/></svg></li>
                  <li><span class="text-gray-900 dark:text-white" itemprop="name">{model.displayName}</span></li>
                </ol>
              </nav>

              {/* Title & Metadata */}
              <div class="flex flex-col lg:flex-row gap-8 items-start">
                <div class="flex-1">
                  <div class="flex items-start gap-4 mb-4">
                    {model.cover_image_url && (
                      <img src={model.cover_image_url} alt={`${model.displayName} icon`} class="w-20 h-20 rounded-xl object-cover shadow-md" itemprop="image" />
                    )}
                    <div class="flex-1">
                      <h1 class="text-4xl lg:text-5xl font-bold text-gray-900 dark:text-white mb-2" itemprop="name">
                        {model.displayName}
                      </h1>
                      <p class="text-lg text-gray-600 dark:text-gray-300">
                        by <span class="font-medium text-gray-900 dark:text-white" itemprop="author">{model.author}</span>
                      </p>
                    </div>
                  </div>

                  {/* Quick Stats Bar */}
                  <div class="flex flex-wrap gap-4 mt-6">
                    <div class="flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm">
                      <svg class="w-5 h-5 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/></svg>
                      <span class="font-semibold text-gray-900 dark:text-white">{model.formattedLikes}</span>
                      <span class="text-sm text-gray-500">likes</span>
                    </div>
                    <div class="flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm">
                      <svg class="w-5 h-5 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"/></svg>
                      <span class="font-semibold text-gray-900 dark:text-white">{model.formattedDownloads}</span>
                      <span class="text-sm text-gray-500">downloads</span>
                    </div>
                    {model.pipeline_tag && (
                      <div class="px-4 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-lg font-medium">
                        {model.pipeline_tag}
                      </div>
                    )}
                  </div>

                  {/* Action Buttons */}
                  <div class="flex flex-wrap gap-3 mt-6">
                    {resourceLinks.map(link => (
                      <a 
                        href={link.url} 
                        target="_blank" 
                        rel="noopener noreferrer"
                        class="inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors shadow-sm"
                      >
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                          <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"/>
                          <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"/>
                        </svg>
                        {link.label}
                      </a>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Main Content Grid */}
        <div class="container mx-auto px-4 py-12">
          <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
              
              {/* Left Column: Main Content */}
              <div class="lg:col-span-2 space-y-8">
                
                {/* Description */}
                <section class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-8">
                  <div class="flex items-center gap-2 mb-6">
                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white">About this Model</h2>
                  </div>
                  <div class="prose prose-lg dark:prose-invert max-w-none" itemprop="description">
                    <p class="text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap">{model.displayDescription}</p>
                  </div>
                  
                  {/* SEO Enhancement Indicator */}
                  {model.seo_status === 'done' && model.seo_summary && (
                    <div class="mt-6 p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-xl flex items-start gap-3">
                      <svg class="w-5 h-5 text-emerald-600 dark:text-emerald-400 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                      </svg>
                      <p class="text-sm text-emerald-700 dark:text-emerald-300">
                        ✨ <strong>Enhanced Description:</strong> This model description has been optimized with AI-generated summaries for better clarity and discoverability.
                      </p>
                    </div>
                  )}
                </section>

                {/* Tags & Categories */}
                {tagsArray.length > 0 && (
                  <section class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-8">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                      <svg class="w-5 h-5 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                      </svg>
                      Tags & Categories
                    </h3>
                    <div class="flex flex-wrap gap-2">
                      {tagsArray.map((tag) => (
                        <span class="px-4 py-2 bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 text-blue-800 dark:text-blue-300 rounded-full text-sm font-medium border border-blue-200 dark:border-blue-800">
                          #{tag}
                        </span>
                      ))}
                    </div>
                  </section>
                )}

                {/* Resources & Files */}
                {parsedResources.length > 0 && (
                  <section class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-8">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                      <svg class="w-5 h-5 text-orange-600" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"/>
                      </svg>
                      Available Resources
                    </h3>
                    <ul class="space-y-3">
                      {parsedResources.map((resource) => (
                        <li class="flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-900 transition-colors">
                          <svg class="w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                          </svg>
                          <div class="flex-1 min-w-0">
                            <a href={resource.url} target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:underline font-medium break-all">
                              {resource.url}
                            </a>
                            {resource.files && resource.files.length > 0 && (
                              <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
                                Contains {resource.files.length} file{resource.files.length !== 1 ? 's' : ''}
                              </p>
                            )}
                          </div>
                        </li>
                      ))}
                    </ul>
                  </section>
                )}

                {/* Raw Metadata Section (Developer Info) */}
                <section class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-8">
                  <details class="group">
                    <summary class="flex items-center justify-between cursor-pointer list-none">
                      <h3 class="text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2">
                        <svg class="w-5 h-5 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                        Technical Metadata
                      </h3>
                      <svg class="w-5 h-5 text-gray-500 transition-transform group-open:rotate-180" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/>
                      </svg>
                    </summary>
                    <div class="mt-6 space-y-3">
                      <div class="grid grid-cols-2 gap-4 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg">
                        <div><span class="text-sm font-medium text-gray-500 dark:text-gray-400">Model ID:</span></div>
                        <div><code class="text-sm text-gray-900 dark:text-white font-mono">{model.id}</code></div>
                        
                        <div><span class="text-sm font-medium text-gray-500 dark:text-gray-400">Source URL:</span></div>
                        <div><code class="text-sm text-gray-900 dark:text-white font-mono break-all">{model.source_url || 'N/A'}</code></div>
                        
                        <div><span class="text-sm font-medium text-gray-500 dark:text-gray-400">Link Status:</span></div>
                        <div>
                          <span class={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${
                            model.link_status === 'active' ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300' :
                            model.link_status === 'dead' ? 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300' :
                            'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'
                          }`}>
                            {model.link_status || 'unknown'}
                          </span>
                        </div>
                        
                        <div><span class="text-sm font-medium text-gray-500 dark:text-gray-400">SEO Status:</span></div>
                        <div>
                          <span class={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${
                            model.seo_status === 'done' ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300' :
                            model.seo_status === 'processing' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300' :
                            'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'
                          }`}>
                            {model.seo_status}
                          </span>
                        </div>
                        
                        <div><span class="text-sm font-medium text-gray-500 dark:text-gray-400">Last Checked:</span></div>
                        <div><span class="text-sm text-gray-900 dark:text-white">{model.last_checked ? formatRelativeTime(model.last_checked) : 'Never'}</span></div>
                        
                        <div><span class="text-sm font-medium text-gray-500 dark:text-gray-400">First Indexed:</span></div>
                        <div><span class="text-sm text-gray-900 dark:text-white">{model.first_indexed ? formatRelativeTime(model.first_indexed) : 'Unknown'}</span></div>
                        
                        <div><span class="text-sm font-medium text-gray-500 dark:text-gray-400">Created At:</span></div>
                        <div><span class="text-sm text-gray-900 dark:text-white">{model.created_at ? formatRelativeTime(model.created_at) : 'Unknown'}</span></div>
                      </div>
                    </div>
                  </details>
                </section>

              </div>

              {/* Right Column: Sidebar */}
              <div class="space-y-6">
                
                {/* Quick Stats Card */}
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 sticky top-4">
                  <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Quick Stats</h3>
                  <dl class="space-y-4">
                    <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                      <dt class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1">License</dt>
                      <dd class="text-base font-semibold text-gray-900 dark:text-white" itemprop="license">{model.license || "Unknown"}</dd>
                    </div>
                    <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                      <dt class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1">Pipeline Type</dt>
                      <dd class="text-base font-semibold text-gray-900 dark:text-white">{model.pipeline_tag || "Not specified"}</dd>
                    </div>
                    <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                      <dt class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1">Total Downloads</dt>
                      <dd class="text-2xl font-bold text-blue-600 dark:text-blue-400">{model.formattedDownloads}</dd>
                    </div>
                    <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                      <dt class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1">Total Likes</dt>
                      <dd class="text-2xl font-bold text-red-600 dark:text-red-400">{model.formattedLikes}</dd>
                    </div>
                    <div>
                      <dt class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1">Last Updated</dt>
                      <dd class="text-base font-semibold text-gray-900 dark:text-white">{model.relativeTime}</dd>
                    </div>
                  </dl>
                </div>

                {/* Quick Links */}
                {resourceLinks.length > 0 && (
                  <div class="bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-2xl border border-blue-200 dark:border-blue-800 p-6">
                    <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Quick Links</h3>
                    <div class="space-y-2">
                      {resourceLinks.map(link => (
                        <a 
                          href={link.url} 
                          target="_blank" 
                          rel="noopener noreferrer"
                          class="flex items-center gap-2 p-3 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 rounded-lg transition-colors text-gray-900 dark:text-white font-medium"
                        >
                          <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"/>
                            <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"/>
                          </svg>
                          {link.label}
                        </a>
                      ))}
                    </div>
                  </div>
                )}

              </div>

            </div>

            {/* Related Models */}
            {relatedModels.length > 0 && (
              <section class="mt-16">
                <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8 flex items-center gap-3">
                  <svg class="w-8 h-8 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"/>
                  </svg>
                  Related Models
                </h2>
                <ModelCarousel models={relatedModels} />
              </section>
            )}

          </div>
        </div>

        {/* Schema.org Structured Data */}
        <script type="application/ld+json" set:html={JSON.stringify({
          "@context": "https://schema.org",
          "@type": "SoftwareApplication",
          "name": model.displayName,
          "description": pageDescription,
          "author": {
            "@type": "Person",
            "name": model.author
          },
          "applicationCategory": model.pipeline_tag || "AI Model",
          "operatingSystem": "Cross-platform",
          "softwareVersion": model.last_updated,
          "aggregateRating": model.likes > 0 ? {
            "@type": "AggregateRating",
            "ratingValue": Math.min(5, (model.likes / 1000) + 3),
            "ratingCount": model.likes
          } : undefined,
          "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
          },
          "url": `https://free2aitools.com/model/${slug}`
        })} />

      </article>
    )}
  </main>
</Layout>

<style>
  /* Smooth transitions */
  * {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Custom scrollbar for code blocks */
  code {
    scrollbar-width: thin;
    scrollbar-color: rgba(155, 155, 155, 0.5) transparent;
  }
  
  code::-webkit-scrollbar {
    height: 0.5rem;
    width: 0.5rem;
  }
  
  code::-webkit-scrollbar-track {
    background-color: transparent;
  }
  
  code::-webkit-scrollbar-thumb {
    background-color: rgba(155, 155, 155, 0.5);
    border-radius: 9999px;
  }
</style>
