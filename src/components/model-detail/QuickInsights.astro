---
/**
 * Zone 2: Quick Insights
 * Displays key decision metrics: Params, Context, Downloads, License
 * V15.0 Design Spec
 */
const { model } = Astro.props;

// Formatting helpers
const formatNumber = (num) => {
    if (!num && num !== 0) return '-';
    if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
    if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
    return num.toString();
};

const params = model.params_billions ? `${model.params_billions}B` : '-';
const context = model.context_length ? `${Math.round(model.context_length / 1024)}k` : '-';
const downloads = formatNumber(model.downloads);
const license = model.license || 'Unknown';
const updated = model.last_updated ? new Date(model.last_updated).toLocaleDateString() : '-';
---

<div class="grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700">
    <div class="flex flex-col">
        <span class="text-xs text-gray-500 uppercase tracking-wider font-semibold">Parameters</span>
        <span class="text-lg font-bold text-gray-900 dark:text-white">{params}</span>
    </div>
    <div class="flex flex-col">
        <span class="text-xs text-gray-500 uppercase tracking-wider font-semibold">Context</span>
        <span class="text-lg font-bold text-gray-900 dark:text-white">{context}</span>
    </div>
    <div class="flex flex-col">
        <span class="text-xs text-gray-500 uppercase tracking-wider font-semibold">Downloads</span>
        <span class="text-lg font-bold text-gray-900 dark:text-white">{downloads}</span>
    </div>
    <div class="flex flex-col">
        <span class="text-xs text-gray-500 uppercase tracking-wider font-semibold">License</span>
        <span class="text-lg font-bold text-gray-900 dark:text-white truncate" title={license}>{license}</span>
    </div>
</div>
