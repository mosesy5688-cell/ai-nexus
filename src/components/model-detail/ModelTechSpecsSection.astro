---
// src/components/model-detail/ModelTechSpecsSection.astro
// Extracted from ModelInfoTable to comply with Art 5.1 (250 lines)
const { model } = Astro.props;
---

{/* Technical Specifications (V16.5 Ghost Fields) */}
{(model.moe_experts || model.kv_heads || model.vocab_size || model.architecture) && (
  <tr class="bg-gray-100/50 dark:bg-gray-800/50">
    <td colspan="2" class="px-4 py-2 text-xs font-bold text-gray-600 dark:text-gray-400 uppercase tracking-widest">Technical Specifications</td>
  </tr>
)}
{model.architecture && (
  <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors border-t border-gray-200 dark:border-gray-700">
    <td class="px-4 py-3 font-semibold text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-900/50">Architecture</td>
    <td class="px-4 py-3 text-gray-700 dark:text-gray-300 font-mono text-xs capitalize">{model.architecture}</td>
  </tr>
)}
{model.moe_experts && (
  <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors">
    <td class="px-4 py-3 font-semibold text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-900/50">MoE Configuration</td>
    <td class="px-4 py-3 text-gray-700 dark:text-gray-300">
      <span class="font-black">{model.moe_experts}</span> Experts ({model.moe_active || 'N/A'} Active)
    </td>
  </tr>
)}
{model.kv_heads && (
  <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors">
    <td class="px-4 py-3 font-semibold text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-900/50">KV Heads</td>
    <td class="px-4 py-3 text-gray-700 dark:text-gray-300">{model.kv_heads}</td>
  </tr>
)}
{model.vocab_size && (
  <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors">
    <td class="px-4 py-3 font-semibold text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-900/50">Vocabulary Size</td>
    <td class="px-4 py-3 text-gray-700 dark:text-gray-300">{model.vocab_size.toLocaleString()} tokens</td>
  </tr>
)}
{model.hidden_size && (
  <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors">
    <td class="px-4 py-3 font-semibold text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-900/50">Hidden Dimension</td>
    <td class="px-4 py-3 text-gray-700 dark:text-gray-300 font-mono">{model.hidden_size}</td>
  </tr>
)}
{model.num_layers && (
  <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors">
    <td class="px-4 py-3 font-semibold text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-900/50">Hidden Layers</td>
    <td class="px-4 py-3 text-gray-700 dark:text-gray-300">{model.num_layers}</td>
  </tr>
)}
{model.num_heads && (
  <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors">
    <td class="px-4 py-3 font-semibold text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-900/50">Attention Heads</td>
    <td class="px-4 py-3 text-gray-700 dark:text-gray-300">{model.num_heads}</td>
  </tr>
)}
{model.tie_weights && (
  <tr class="hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors">
    <td class="px-4 py-3 font-semibold text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-900/50">Weight Tying</td>
    <td class="px-4 py-3 text-gray-700 dark:text-gray-300 text-xs">{model.tie_weights ? 'Enabled' : 'Disabled'}</td>
  </tr>
)}
