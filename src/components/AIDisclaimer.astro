---
/**
 * AI Disclaimer Component V14.4
 * Constitution Reference: Art 7.1 (AI Summary Disclaimer)
 * 
 * Displays mandatory disclosure for AI-generated content
 */

interface Props {
  variant?: 'inline' | 'block' | 'footer';
  language?: 'en' | 'zh';
}

const { variant = 'inline', language = 'en' } = Astro.props;

const disclaimers = {
  en: {
    inline: 'AI-generated summary based on source metadata. Not a recommendation.',
    block: 'This summary was automatically generated using AI based on publicly available metadata from the original source. It does not constitute an endorsement or recommendation.',
    footer: 'AI-generated content disclaimer: All summaries on this page are generated by AI and should not be considered professional advice.'
  },
  // Localization reserved for Art 7.1 Exception (only if source is non-English)
  // zh: { ... }
};

const text = disclaimers[language][variant];

const variantStyles = {
  inline: 'text-xs text-gray-400 dark:text-gray-500 italic',
  block: 'text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800/50 p-3 rounded-md border border-gray-200 dark:border-gray-700',
  footer: 'text-xs text-gray-400 dark:text-gray-500 text-center py-2 border-t border-gray-200 dark:border-gray-700'
};
---

<div class={`ai-disclaimer ${variantStyles[variant]}`} data-ai-disclaimer>
  <span class="flex items-center gap-1">
    {variant === 'block' && <span class="text-amber-500">‚ö†Ô∏è</span>}
    {variant === 'inline' && <span class="opacity-60">ü§ñ</span>}
    <span>{text}</span>
  </span>
</div>

<style>
  .ai-disclaimer {
    font-family: system-ui, -apple-system, sans-serif;
  }
</style>
