---
// src/components/compare/SpecsComparison.astro
import SpecsTable from '../specs/SpecsTable.astro';
import { parseJSONField } from '../../utils/data-service';

interface Props {
  compareModels: any[];
}

const { compareModels } = Astro.props;
---

<section class="compare-section">
  <h2 class="section-title">ðŸ”§ Specifications</h2>
  <div class="specs-comparison-grid" style={`--cols: ${compareModels.length}`}>
    {compareModels.map(model => (
      <div class="comparison-card">
        {model.specs ? (
          <SpecsTable 
            params={model.specs.params_billions}
            contextLength={model.specs.context_length}
            license={model.specs.license_spdx}
            hasGguf={model.specs.has_gguf}
            ggufVariants={parseJSONField(model.specs.gguf_variants, [])}
            hasOllama={model.specs.has_ollama}
            ollamaPulls={model.specs.ollama_pulls}
          />
        ) : (
          <div class="no-data">
            <span>No specs data</span>
          </div>
        )}
      </div>
    ))}
  </div>
</section>
