---
// src/components/knowledge/KnowledgeHeader.astro
// V16.2 - Added refs count from CDN stats
interface Props {
  title: string;
  description: string;
  category: string;
  difficulty?: 'Beginner' | 'Intermediate' | 'Advanced';
  effort?: string;
  refs?: number;
}

const { title, description, category, difficulty, effort, refs } = Astro.props;

// Difficulty color mapping
const difficultyColors = {
  Beginner: 'bg-emerald-100 text-emerald-700',
  Intermediate: 'bg-amber-100 text-amber-700',
  Advanced: 'bg-rose-100 text-rose-700'
};
---

<header class="mb-12">
  <nav class="flex items-center gap-2 text-sm text-gray-500 mb-6">
    <a href="/knowledge" class="hover:text-indigo-600">Knowledge Base</a>
    <span>‚Ä∫</span>
    <span class="capitalize">{category}</span>
  </nav>

  <div class="flex flex-wrap items-center gap-3 mb-4">
    {difficulty && (
      <span class={`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide ${difficultyColors[difficulty] || 'bg-gray-100 text-gray-600'}`}>
        {difficulty}
      </span>
    )}
    {effort && (
      <span class="flex items-center gap-1.5 px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-xs font-bold uppercase tracking-wide">
        <span>‚è±Ô∏è</span>
        {effort}
      </span>
    )}
    {refs > 0 && (
      <span class="flex items-center gap-1.5 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-bold uppercase tracking-wide">
        <span>üîó</span>
        {refs.toLocaleString()} references
      </span>
    )}
  </div>

  <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-4 leading-tight">
    {title}
  </h1>
  <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl leading-relaxed">
    {description}
  </p>
</header>
