---
// src/components/knowledge/KnowledgeSidebar.astro
interface Props {
  slug: string;
}

const { slug } = Astro.props;
---

<aside class="used-in-section">
  <h3>ğŸ”— Used In (Models referencing this concept)</h3>
  <p class="used-in-description">
    This knowledge base article is referenced by the following model pages:
  </p>
  <div class="used-in-grid">
    {/* Static examples - CES-001 Clean URL format */}
    {slug === 'what-is-mmlu' && (
      <>
        <a href="/model/meta-llama/llama-3-2-1b" class="used-in-card">ğŸ“Š Llama 3.2 1B</a>
        <a href="/model/qwen/qwen2.5-72b" class="used-in-card">ğŸ“Š Qwen 2.5 72B</a>
        <a href="/model/mistralai/mistral-7b-v0.1" class="used-in-card">ğŸ“Š Mistral 7B</a>
      </>
    )}
    {slug === 'what-is-humaneval' && (
      <>
        <a href="/model/deepseek-ai/deepseek-coder-33b-instruct" class="used-in-card">ğŸ’» DeepSeek Coder 33B</a>
        <a href="/model/codellama/codellama-70b-hf" class="used-in-card">ğŸ’» CodeLlama 70B</a>
        <a href="/model/meta-llama/llama-3-2-3b" class="used-in-card">ğŸ’» Llama 3.2 3B</a>
      </>
    )}
    {slug === 'what-is-fni' && (
      <>
        <a href="/explore" class="used-in-card">ğŸ  All Models (FNI Score)</a>
        <a href="/leaderboard" class="used-in-card">ğŸ† Leaderboard</a>
        <a href="/methodology" class="used-in-card">ğŸ“‹ Methodology</a>
      </>
    )}
    {slug === 'what-is-context-length' && (
      <>
        <a href="/model/mistralai/mistral-7b-v0.1" class="used-in-card">ğŸ“ Mistral 7B (32K)</a>
        <a href="/model/deepseek-ai/deepseek-v2.5" class="used-in-card">ğŸ“ DeepSeek V2.5 (128K)</a>
        <a href="/model/qwen/qwen2.5-72b" class="used-in-card">ğŸ“ Qwen 2.5 72B (128K)</a>
      </>
    )}
    {slug === 'what-is-deploy-score' && (
      <>
        <a href="/model/meta-llama/llama-3-2-1b" class="used-in-card">âš¡ Llama 3.2 1B (easy deploy)</a>
        <a href="/model/qwen/qwen2.5-7b" class="used-in-card">âš¡ Qwen 2.5 7B</a>
        <a href="/explore?sort=deploy" class="used-in-card">âš¡ Deploy Score Sort</a>
      </>
    )}
    {/* Fallback */}
    {!['what-is-mmlu', 'what-is-humaneval', 'what-is-fni', 'what-is-context-length', 'what-is-deploy-score'].includes(slug || '') && (
      <>
        <a href="/explore" class="used-in-card">ğŸ” Explore Models</a>
        <a href="/leaderboard" class="used-in-card">ğŸ† Leaderboard</a>
        <a href="/knowledge" class="used-in-card">ğŸ“š More Articles</a>
      </>
    )}
  </div>
  <p class="used-in-note">
    ğŸ“– CEO Iron Rule: Each knowledge article must be cited by 3+ entity pages
  </p>
</aside>
