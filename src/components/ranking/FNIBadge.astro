---
/**
 * FNIBadge.astro - Reusable FNI percentile badge component
 * Phase 9: Extracted for CES compliance (Art 5.1)
 */
interface Props {
  fniScore?: number;
  fniPercentile?: string;
  className?: string;
}

const { fniScore, fniPercentile, className = '' } = Astro.props;

const badgeClass = 
  fniPercentile === 'top_0.1%' || fniPercentile === 'top_1%' 
    ? 'bg-gradient-to-r from-yellow-400 to-amber-500 text-white' 
  : fniPercentile === 'top_5%' || fniPercentile === 'top_10%'
    ? 'bg-gradient-to-r from-purple-500 to-indigo-600 text-white'
  : fniPercentile === 'top_25%'
    ? 'bg-gradient-to-r from-blue-500 to-cyan-500 text-white'
  : 'bg-indigo-600/90 text-white';

const displayText = fniPercentile?.startsWith?.('top_') 
  ? fniPercentile.replace('top_', 'Top ') 
  : `FNI ${Math.round(fniScore || 0)}`;
---

{(fniScore > 0 || fniPercentile) && (
  <div class={`text-xs px-2 py-1 rounded-full font-bold shadow-sm ${badgeClass} ${className}`}>
    ğŸ›¡ï¸ {displayText}
  </div>
)}
